<style>
img{ width: 100%; height: auto;}
button{font-family: "microsoft yahei";}
ul,li{list-style: none;}
button a{display: inline-block; color: #fff;  text-decoration: none; font-family: "microsoft yahei"; }

#ext-viewport .x-layout-card-item{background: url({&resource/shophelper/game/egg_btm_bg.png&}) no-repeat bottom #d13737; background-size: 100% auto;}
.stage {width: 100%; -webkit-perspective: 800; perspective-origin: 50% 200px; position: relative;}
.cube{ width:0; height:0; border-radius:300px; margin:auto; position:absolute; left:50%; bottom:25%; z-index:100; -webkit-transform-style: preserve-3d;-webkit-backface-visibility:visible; -webkit-transform: rotateX(90deg) rotateZ(0deg);}
.plane{width:0; height:0; position: absolute; z-index:200;left:50%;top:50%; -webkit-transform-style: preserve-3d; -webkit-backface-visibility:visible;}
.plane>span{position: relative; width: 9rem; height: 10rem; margin-left:-4.5rem; margin-top:-5.7rem; display:block;}
.plane>span>figure{ width: 100%; height: 100%; margin: 0; padding: 0; display:block; background:url({&resource/shophelper/game/egg.png&}) no-repeat top ; background-size: 100% auto; pointer-events:none;}
.cube.on, .cube.on .plane>span{-webkit-animation: spin 10s infinite linear; }
.plane>span.on.luck{ background-position: center 3px;}
.plane>span:after{ content: ""; position: absolute;z-index:360; display: block; width:10rem; height:12rem; bottom:4rem; left:-1rem; background:url({&resource/shophelper/game/egg_ok.png&}) no-repeat center center; background-size:1rem auto; transition:background-size .3s ease-in; position-events:none;}
.plane>span.on:after{background-size: 120px auto;}
.plane>span.on>figure{background:url({&resource/shophelper/game/egg.png&}) no-repeat bottom ; background-size: 100% auto;}
.cube.pause, .cube.pause span{-webkit-animation-play-state:paused!important;animation-play-state:paused!important;}

.plane.one{-webkit-transform:rotateZ(90deg) translateX(8rem) rotateX(-90deg);}
.plane.two{-webkit-transform:rotateZ(210deg) translateX(8rem) rotateX(-90deg);}
.plane.three{-webkit-transform:rotateZ(330deg) translateX(8rem) rotateX(-90deg);}
.cube.on>.one>span {-webkit-animation-name:spin1;-webkit-transform:rotateY(90deg);z-index:203;}
.cube.on>.two>span {-webkit-animation-name:spin2;-webkit-transform:rotateY(210deg);}
.cube.on>.three>span {-webkit-animation-name:spin3;-webkit-transform:rotateY(330deg);}

@-webkit-keyframes spin3 {
  0% { -webkit-transform:rotateY(330deg);}
  100% { -webkit-transform: rotateY(690deg);}
}
@-webkit-keyframes spin2 {
  0% {-webkit-transform:rotateY(210deg);}
  100% {-webkit-transform:rotateY(570deg);}
}
@-webkit-keyframes spin1 {
  0% { -webkit-transform:rotateY(90deg);}
  100% { -webkit-transform:rotateY(450deg);}
}
@-webkit-keyframes spin{
  0% {-webkit-transform: rotateX(90deg) rotateZ(0deg); }
  100% { -webkit-transform: rotateX(90deg) rotateZ(360deg);}
}
    
.stage #hit{ position: absolute; z-index:300; left:50%; top:50%; margin-left:0; margin-top:-8rem; pointer-events:none; display: none;}
.stage #hit img{ width:10rem;height:auto;}
.stage #hit.on{ display: block; animation: myfirst 0.8s; -webkit-animation:myfirst 0.8s;}
@-webkit-keyframes myfirst{
	0% {-webkit-transform:rotate(20deg);  margin-top:-8rem;}
	25%{-webkit-transform:rotate(-90deg)}
    75% { margin-top:-6rem}
	100%{-webkit-transform:rotate(0deg); margin-top:-8rem}
}
@keyframes myfirst{
	0% {transform:rotate(20deg);  margin-top:-8rem;}
	25%{transform:rotate(-90deg)}
    75% { margin-top:-6rem}
	100%{transform:rotate(0deg); margin-top:-8rem}
}

.chance{ text-align: center; color: #fff; line-height: 3rem; font-size: 1.2rem; padding: 1rem 0 2rem; text-shadow: 1px 3px 3px #950018;}
.chance em{ font-size: 2rem; padding: 0 .3rem; color: #f4d23e; font-style: normal;}	
.btn{ width: 70%;  margin: 2rem auto;}	
.btn button{background: #7e0011; border-radius: .5rem;padding: 0 0 .35rem 0;}
.btn button a{display: inline-block; background: #a30117; color: #fff; font-size: 1.3rem;border-radius: .5rem; text-decoration: none; font-family: "microsoft yahei"; padding: .6rem 2rem;}
.btn button:last-child{float: right;}

.tc_bg{position: fixed; background: #000; width: 100%; height: 100%; top: 0; left: 0; opacity: 0.8;}
.share{position: fixed;background: #000;  width: 100%; height: 100%; top: 0; left: 0; opacity: 0.8;}
.share img{ width: 100%;}
.tc_con{position: fixed; width: 80%; height: auto; top: 50%; margin-top: -11rem; left: 10%; background: #fff; border-radius: 1rem;}
.tc_con span.close{ position: absolute; width: 1.6rem; height: 1.6rem; right: 0rem; top: -3rem;}
.tc_con h1{ position: absolute; width: 100%; top: -5.3rem; left: 0;}
.succ_con{background: #de333c;}
.succ_con span.close{ background: url({&resource/shophelper/game/egg_ico05.png&}) no-repeat; background-size: 100% auto;}
.fail_con{background: #ddd;}
.fail_con span.close{ background: url({&resource/shophelper/game/egg_ico04.png&}) no-repeat; background-size: 100% auto;}

.tc_con_txt{ padding-top: 7rem; font-size: 1.3rem; color: #fff; text-align: center;}
.tc_con_txt p em{ color: #fbdc04; font-style: normal;}
.tc_con_txt p:last-child{ font-size: .9rem; padding-top: 1rem;}
.tc_con .btn{position: relative; width: 86%; left: 7%; margin: 3.5rem 0 2.5rem;}
.tc_con .btn button{ width: 48%;}
.tc_con .btn button a{ width: 100%; padding: .6rem 0; font-size: 1rem;}
.fail_con .tc_con_txt{ color: #8b8b8b;}
.fail_con .tc_con_txt p:first-child{ font-size: 2.5rem; padding-bottom: .5rem;}

.rule,.name_list{ width: 100%; left: 5%; height: 35rem; margin-top:-17.5rem; overflow: hidden;}
.tc_con h3{position: relative; line-height: 3rem; font-size: 1.5rem; font-weight: normal; color: #fff;  padding-left: 3rem;  background: url({&resource/shophelper/game/egg_ico01.png&}) no-repeat left 1rem center #d13737; background-size: 1.5rem auto; border-radius: 1rem 1rem 0 0;}
.tc_con h3 span.close{position: absolute; width: 1.5rem; height: 1.5rem; right: 1rem; top:.75rem; background: url({&resource/shophelper/game/egg_ico02.png&}) no-repeat; background-size: 1.5rem auto;}
.rule_txt{ width: 80%; max-height: 80%; margin: 1.5rem 0; padding: 0 10%; overflow-y: auto;}
.rule_txt p{ font-size: 1rem; line-height: 1.7rem; color: #666;}
.rule_txt p.txt_tit{ font-size: 1.3rem; padding-top: 1rem; padding-bottom: .2rem; color: #333;}

.name_list ul{ width: 80%; padding: 0 10%; margin: 2rem 0; height: 53%; overflow: auto;}
.name_list ul li{ line-height: 3rem; border-bottom: 1px solid #ddd;}
.name_list ul li span:last-child{ float: right;}
.my_prize{ width: 59%; height: auto; padding: 2rem 0 1.5rem 6rem;   margin: 2rem auto; color: #face2f; background: url({&resource/shophelper/game/egg_ico03.png&}) no-repeat left 5% center #c22133; background-size: 4rem auto; border-radius: .5rem;}
.my_prize time{ color: #fff; line-height: 2.2rem;}
</style>

<section class="stage">
	<img src="{&resource/shophelper/game/egg_top_bg.jpg&}" />
	 <div id="shape" class="cube on">
        <div class="plane one"><span class=""><figure>&nbsp;</figure></span></div>
        <div class="plane two"><span class=""><figure>&nbsp;</figure></span></div>
        <div class="plane three"><span class=""><figure>&nbsp;</figure></span></div>
 	</div>
 	<div id="hit" class="hit"><img src="{&resource/shophelper/game/hammer.png&}" /></div>
</section>
<p class="chance">[$Remain$]<em id="game_num">3</em>[$Chance$]</p>
<div class="btn">
	<button id="rule_btn"><a href="javascript:void(0)">[$Rule$]</a></button>
	<button id="name_list_btn"><a href="javascript:void(0)">[$NameList$]</a></button>
</div>


<div class="tc_bg" id="tc_bg" style="display: none;"></div>
<div class="share" id="share" style="display: none;"><img src="{&resource/shophelper/game/share.png&}"/></div>
<div class="tc_con succ_con" id="success" style="display: none;">
	<h1><img src="{&resource/shophelper/game/egg_succ_bg.png&}"></h1>
   <div class="tc_con_txt">
   	  <p>[$Congratulate$]<em id="succ_txt">20元现金折扣券</em> </p>   
   	  <p>[$SuccTxt$]</p>   
   </div>
   <div class="btn">
   	<button><a href="">[$MyAccount$]</a></button>
   	<button class="share_btn"><a href="javascript:void(0)">[$Share$]</a></button>
   </div>
   <span class="close"></span>
</div>
<div class="tc_con fail_con" id="fail" style="display: none;">
	<h1><img src="{&resource/shophelper/game/egg_fail_bg.png&}"></h1>
   <div class="tc_con_txt">
   	  <p>[$faildesc$]</p>   
   	  <p>[$failtxt$]</p>   
   </div>
   <div class="btn">
   	<button id="again"><a href="javascript:void(0)">再砸一次</a></button>
   	<button class="share_btn"><a href="javascript:void(0)">去分享</a></button>
   </div>
   <span class="close"></span>
</div>
<div class="tc_con rule" id="rule" style="display: none;">
	<h3>[$Rule$]<span class="close"></span></h3>
	<div class="rule_txt">
		{[Rule]}
	</div>
</div>
<div class="tc_con name_list" id="name_list" style="display: none;">
	<h3>[$NameList$]<span class="close"></span></h3>
	<p class="my_prize">[$MyPrize$]：[$Get$]“{[MyPrize]}”<br/><time>{[Time]}</time></p>
	<ul>
		<repeat>
			<li><span class="username">{[UserName]}</span><span class="username">[$Get$]“{[Prize]}”</span></li>
		</repeat>
	</ul>
</div>